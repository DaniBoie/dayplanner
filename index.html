<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
    integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="./style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Mulish&display=swap" rel="stylesheet">
  <title>Work Day Scheduler</title>
</head>

<body>
  <header class="jumbotron jumboColor">
    <h1 class="display-3">Work Day Scheduler</h1>
    <p class="lead">A simple calendar app for scheduling your work day</p>
    <p id="currentDay" class="lead"></p>
  </header>
  <main class="container">

    <!-- Header for the time rows  -->
    <header class="row header">
      <section class="headerBlock col-sm-2">
        <h1>Time:</h1>
      </section>
    
      <section class="headerBlock col-sm-9">
        <h1>To-Do Planner</h1>
      </section>
    
      <section class="headerBlock col-sm-1">
        <h4>Save:</h4>
      </section>
    </header>

    <!-- 9AM row -->
    <div class="row" id="1">
      <section class="tableBlock timeCell col-sm-2">
         <p class="timeStyle" id="9AM">9 AM</p>
      </section>

      <input type="text" class="tableBlock inputCell col-sm-9" id="inputCell1">

      <section class="tableBlock saveCell col-sm-1" id="saveCell1" ></section>
    </div>

    <div class="row" id="2">
      <section class="tableBlock timeCell col-sm-2">
        <p class="timeStyle" id="10AM">10 AM</p>
      </section>
    
      <input type="text" class="tableBlock inputCell col-sm-9" id="inputCell2">
    
      <section class="tableBlock saveCell col-sm-1" id="saveCell2" ></section>
    </div>

    <div class="row" id="3">
      <section class="tableBlock timeCell col-sm-2">
        <p class="timeStyle" id="11AM">11 AM</p>
      </section>
    
      <input type="text" class="tableBlock inputCell col-sm-9" id="inputCell3">
    
      <section class="tableBlock saveCell col-sm-1" id="saveCell3"></section>
    </div>

    <div class="row" id="4">
      <section class="tableBlock timeCell col-sm-2">
        <p class="timeStyle" id="12PM">12 PM</p>
      </section>
    
      <input type="text" class="tableBlock inputCell col-sm-9" id="inputCell4">
    
      <section class="tableBlock saveCell col-sm-1" id="saveCell4"></section>
    </div>

    <div class="row" id="5">
      <section class="tableBlock timeCell col-sm-2">
        <p class="timeStyle" id="1PM">1 PM</p>
      </section>
    
      <input type="text" class="tableBlock inputCell col-sm-9" id="inputCell5">
    
      <section class="tableBlock saveCell col-sm-1" id="saveCell5"></section>
    </div>

    <div class="row" id="6">
      <section class="tableBlock timeCell col-sm-2">
        <p class="timeStyle" id="2PM">2 PM</p>
      </section>
    
      <input type="text" class="tableBlock inputCell col-sm-9" id="inputCell6">
    
      <section class="tableBlock saveCell col-sm-1" id="saveCell6"></section>
    </div>

    <div class="row" id="7">
      <section class="tableBlock timeCell col-sm-2">
        <p class="timeStyle" id="3PM">3 PM</p>
      </section>
    
      <input type="text" class="tableBlock inputCell col-sm-9" id="inputCell7">
    
      <section class="tableBlock saveCell col-sm-1" id="saveCell7"></section>
    </div>

    <div class="row" id="8">
      <section class="tableBlock timeCell col-sm-2">
        <p class="timeStyle" id="4PM">4 PM</p>
      </section>
    
      <input type="text" class="tableBlock inputCell col-sm-9" id="inputCell8">
    
      <section class="tableBlock saveCell col-sm-1" id="saveCell8"></section>
    </div>

    <div class="row bottomRow" id="9">
      <section class="tableBlock timeCell col-sm-2">
        <p class="timeStyle" id="5PM">5PM</p>
      </section>
    
      <input type="text" class="tableBlock inputCell col-sm-9" id="inputCell9">
    
      <section class="tableBlock saveCell col-sm-1" id="saveCell9"></section>
    </div>
  </main>

  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>

  <script>

    window.onload = printSave;

    $('#currentDay').text(`${moment().format("ddd, h:mmA")}`)
    setInterval(() => {
      $('#currentDay').text(`${moment().format("ddd, h:mmA")}`)
    }, 20000);

    $('.saveCell').hover(event => {
      let hoveringCell= ('#' + event.target.id)
      $(`${hoveringCell}`).css("background-color","red")
    })

    $(".saveCell").mouseout(event => {
      let hoveringCell = ('#' + event.target.id)
      $(`${hoveringCell}`).css("background-color", "wheat")
    })

    $('.saveCell').click(event => {
        let place = ('#inputCell' + event.target.parentNode.id)
        let response = $(`${place}`).val()
        $(`${place}`).val(response)
        storeItems(response, place)
      })
     
      // let hour = moment().format("hA")
      var hour1 = "16:00:00";
      var hour = moment(hour1, "HH:mm:ss").format("hA");
      let hourFound = false


        // if (index === hour) {
        //   hourFound = true
        // }

        // if (!hourfound) {
        //   $(`${index}`).addClass('tableBlockC')
        // }
        
      

   // console.log(moment().format("ddd, h:mmA"))
  function storeItems(submission, location) {

      let input1 = localStorage.getItem(`${location}`) || []
      input1[0] = submission
      localStorage.setItem(`${location}`, submission)
  }
  function printSave() {
    for (let i = 1; i < 10; i++) {
      let index = '#inputCell' + i
      
      switch (i) {
        case 1:
          console.log(hour)
          if (hour === '9AM') {
            $(`${index}`).css('background-color', 'rgb(2, 153, 153)')
            hourFound = true
          } else if (hourFound) {
            $(`${index}`).css('background-color', 'aqua')
          } else {
            $(`${index}`).css('background-color', 'rgb(175, 255, 255)')
          }
          break;
      
        case 2:
          if (hour === '10AM') {
            $(`${index}`).css('background-color', 'rgb(2, 153, 153)')
            hourFound = true
          } else if (hourFound) {
            $(`${index}`).css('background-color', 'aqua')
          } else {
            $(`${index}`).css('background-color', 'rgb(175, 255, 255)')
          }
          break;

        case 3:
          if (hour === '11AM') {
            $(`${index}`).css('background-color', 'rgb(2, 153, 153)')
            hourFound = true
          } else if (hourFound) {
            $(`${index}`).css('background-color', 'aqua')
          } else {
            $(`${index}`).css('background-color', 'rgb(175, 255, 255)')
          }
          break;

          case 4:
          if (hour === '12PM') {
            $(`${index}`).css('background-color', 'rgb(2, 153, 153)')
            hourFound = true
          } else if (hourFound) {
            $(`${index}`).css('background-color', 'aqua')
          } else {
            $(`${index}`).css('background-color', 'rgb(175, 255, 255)')
          }
          break;
          case 5:
          if (hour === '1PM') {
            $(`${index}`).css('background-color', 'rgb(2, 153, 153)')
            hourFound = true
          } else if (hourFound) {
            $(`${index}`).css('background-color', 'aqua')
          } else {
            $(`${index}`).css('background-color', 'rgb(175, 255, 255)')
          }
          break;
          case 6:
          if (hour === '2PM') {
            $(`${index}`).css('background-color', 'rgb(2, 153, 153)')
            hourFound = true
          } else if (hourFound) {
            $(`${index}`).css('background-color', 'aqua')
          } else {
            $(`${index}`).css('background-color', 'rgb(175, 255, 255)')
          }
          break;
          case 7:
          if (hour === '3PM') {
            $(`${index}`).css('background-color', 'rgb(2, 153, 153)')
            hourFound = true
          } else if (hourFound) {
            $(`${index}`).css('background-color', 'aqua')
          } else {
            $(`${index}`).css('background-color', 'rgb(175, 255, 255)')
          }
          break;
          case 8:
          if (hour === '4PM') {
            $(`${index}`).css('background-color', 'rgb(2, 153, 153)')
            hourFound = true
          } else if (hourFound) {
            $(`${index}`).css('background-color', 'aqua')
          } else {
            $(`${index}`).css('background-color', 'rgb(175, 255, 255)')
          }
          break;
          case 9:
          if (hour === '5PM') {
            $(`${index}`).css('background-color', 'rgb(2, 153, 153)')
            hourFound = true
          } else if (hourFound) {
            $(`${index}`).css('background-color', 'aqua')
          } else {
            $(`${index}`).css('background-color', 'rgb(175, 255, 255)')
          }
          break;
      }

      $(`${index}`).val(localStorage.getItem(`${index}`))

      
      
      
      
    }
  }
  </script>
</body>

</html>